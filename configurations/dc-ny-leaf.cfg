! DC-NY-LEAF Configuration
! Device: Cisco 3945 (IOSv)
! Management IP: 172.16.10.247
! Last Updated: Sep 22, 2025

version 15.9
service timestamps debug datetime msec localtime show-timezone
service timestamps log datetime msec localtime show-timezone
service sequence-numbers
!
hostname dc-ny-leaf
!
logging exception 4096
logging count
logging buffered 512000
logging persistent url flash:/syslog size 134217728 filesize 8192
no logging console
enable secret 9 $9$HbINJR9hAPCoPN$4BUz7J1/90Kprs56iTAqaM8t54ehIZomWK3PC7r4jj.
!
aaa new-model
aaa group server tacacs+ TACACS-GROUP
 server name UBUNTU-TACACS
 server name TACACS-UBUNTU
aaa authentication login default group TACACS-GROUP local
aaa authentication enable default group TACACS-GROUP enable
aaa authorization exec default group TACACS-GROUP local
aaa authorization commands 1 default group TACACS-GROUP local
aaa authorization commands 15 default group TACACS-GROUP local
aaa accounting exec default start-stop group TACACS-GROUP
aaa accounting commands 1 default start-stop group TACACS-GROUP
aaa accounting commands 15 default start-stop group TACACS-GROUP
aaa session-id common
!
ip domain name lab.local
ip cef
!
interface Loopback0
 ip address 10.1.2.1 255.255.255.255
!
interface GigabitEthernet0/0
 description Management Interface
 ip address 172.16.10.247 255.255.255.0
 duplex auto
 speed auto
 media-type rj45
 no cdp enable
 no lldp transmit
 no lldp receive
!
interface GigabitEthernet0/1
 description To dc_ny_spine
 ip address 10.1.20.2 255.255.255.252
 duplex auto
 speed auto
 media-type rj45
!
interface GigabitEthernet0/2
 description To dc_ny_server_newyork
 ip address 192.168.10.1 255.255.255.0
 duplex auto
 speed auto
 media-type rj45
!
interface GigabitEthernet0/3
 description Future server connection
 ip address 192.168.20.1 255.255.255.0
 duplex auto
 speed auto
 media-type rj45
!
router ospf 1
 router-id 10.1.2.1
 network 10.1.2.1 0.0.0.0 area 0
 network 10.1.20.0 0.0.0.3 area 0
 network 192.168.10.0 0.0.0.255 area 0
 network 192.168.20.0 0.0.0.255 area 0
!
router bgp 65001
 bgp router-id 10.1.2.1
 bgp log-neighbor-changes
 neighbor 10.1.20.1 remote-as 65001
 neighbor 10.1.20.1 description dc_ny_spine
 !
 address-family ipv4
  network 10.1.2.1 mask 255.255.255.255
  network 192.168.10.0
  network 192.168.20.0
  neighbor 10.1.20.1 activate
 exit-address-family
!
no ip http server
no ip http secure-server
ip route 0.0.0.0 0.0.0.0 10.1.20.1
ip route 192.168.10.10 255.255.255.255 GigabitEthernet0/2
ip route 192.168.20.10 255.255.255.255 GigabitEthernet0/3
ip ssh version 2
!
logging source-interface GigabitEthernet0/0
logging host 172.16.10.118
!
snmp-server community public RO
snmp-server community private RW
snmp-server location DC_NY
snmp-server contact Network Operations Center - noc@company.com
snmp-server host 172.16.10.118 version 2c public
!
tacacs server TACACS-UBUNTU
 address ipv4 172.16.10.118
 key rad123
!
line con 0
 exec-timeout 0 0
 logging synchronous
line aux 0
line vty 0 4
 exec-timeout 0 0
 logging synchronous
 transport input ssh
line vty 5 15
 transport input none
!
end